---
interface Props {
    contact: {
        name: string;
        organization: string;
        role: string;
        category: string;
        region: string;
        relationshipStrength: string;
        lastContact?: string;
        nextAction?: string;
    };
}

const { contact } = Astro.props;

const strengthMap = {
    strong: "★★★★★",
    developing: "★★★☆☆",
    new: "★☆☆☆☆",
};
---

<div
    class="bg-white p-6 border border-text-primary/10 flex flex-col h-full hover:border-text-primary/30 transition-colors"
>
    <div class="flex justify-between items-start mb-2">
        <h3 class="font-bold text-lg">{contact.name}</h3>
        <span
            class="text-xs text-accent-sage font-mono tracking-tighter"
            title="Relationship Strength"
        >
            {strengthMap[contact.relationshipStrength] || "☆☆☆☆☆"}
        </span>
    </div>

    <p class="text-sm font-medium mb-1">{contact.role}</p>
    <p class="text-xs opacity-60 uppercase tracking-wide mb-4">
        {contact.organization}
    </p>

    <div class="mt-auto space-y-3 pt-4 border-t border-text-primary/5">
        <div class="flex justify-between text-xs">
            <span class="opacity-50">Category</span>
            <span class="font-medium">{contact.category}</span>
        </div>
        <div class="flex justify-between text-xs">
            <span class="opacity-50">Region</span>
            <span class="uppercase">{contact.region}</span>
        </div>
        {
            contact.nextAction && (
                <div class="bg-yellow-50 p-2 rounded text-xs text-yellow-800 mt-2">
                    <span class="font-bold block mb-1">Next Action:</span>
                    {contact.nextAction}
                </div>
            )
        }
    </div>
</div>
