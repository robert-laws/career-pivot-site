---
interface Props {
    item: {
        type: string;
        title: string;
        description: string;
        dateCompleted: string;
        link?: string;
        featured?: boolean;
        testimonial?: string;
    };
}

const { item } = Astro.props;
---

<div
    class={`p-6 border transition-all duration-300 ${item.featured ? "bg-white border-accent-terra/30 shadow-sm" : "bg-white/40 border-text-primary/10"}`}
>
    <div class="flex justify-between items-start mb-4">
        <span
            class="text-xs font-mono uppercase tracking-widest text-accent-terra"
            >{item.type}</span
        >
        {
            item.featured && (
                <span class="text-[10px] font-bold uppercase tracking-widest bg-accent-terra/10 text-accent-terra px-2 py-1 rounded">
                    Featured
                </span>
            )
        }
    </div>

    <h3 class="text-xl font-bold mb-3">{item.title}</h3>
    <p class="text-sm opacity-70 leading-relaxed mb-6">
        {item.description}
    </p>

    {
        item.testimonial && (
            <div class="mb-6 pl-4 border-l-2 border-accent-terra/30 italic text-sm opacity-80">
                "{item.testimonial}"
            </div>
        )
    }

    <div
        class="flex justify-between items-center mt-auto pt-4 border-t border-text-primary/5"
    >
        <span class="text-xs opacity-40 font-mono">{item.dateCompleted}</span>
        {
            item.link && (
                <a
                    href={
                        item.link &&
                        item.link.startsWith("/") &&
                        import.meta.env.BASE_URL !== "/"
                            ? import.meta.env.BASE_URL + item.link
                            : item.link
                    }
                    class="text-sm font-bold hover:text-accent-terra transition-colors flex items-center gap-1"
                >
                    View Material{" "}
                    <span class="text-lg leading-none">&rarr;</span>
                </a>
            )
        }
    </div>
</div>
